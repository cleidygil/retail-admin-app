<div mat-dialog-title>
  <span class="flex justify-center font-bold text-2xl text-neutral-600 my-2">
    Egresar Producto
  </span>
</div>
<div mat-dialog-content>
  <form [formGroup]="productsInfo" class="grid gap-2 my-4">
    <div class="flex items-center border-2 my-2 py-2 px-3 rounded-2xl">
      <input
        class="pl-2 w-full outline-none border-none"
        formControlName="product"
        placeholder="Nombre del Producto"
        readonly
      />
    </div>
    <div class="flex items-center border-2 my-2 py-2 px-3 rounded-2xl">
      <input
        class="pl-2 w-full outline-none border-none"
        formControlName="available"
        placeholder="Disponible"
        readonly
      />
    </div>
    <div class="flex items-center border-2 my-2 py-2 px-3 rounded-2xl">
      <input
        class="pl-2 w-full outline-none border-none"
        formControlName="quantity"
        placeholder="Cantidad"
        type="number"
        min="0"
        onkeypress="return event.charCode >= 48"
      />
    </div>
    <ng-container *ngIf="id == 0">
      <div class="flex gap-2">
        <select
          formControlName="inventory_type"
          class="w-full border border-neutral-300 rounded-full text-neutral-500 h-10 pl-5 pr-10 bg-white hover:border-neutral-400 focus:outline-none appearance-none"
        >
          <option value="">Seleccione el tipo de inventario</option>
          <option value="1">VENTA</option>
          <option value="2">PRODUCCION</option>
        </select>
      </div>
    </ng-container>
    <div class="flex gap-2">
      <select
        formControlName="options"
        class="w-full border border-neutral-300 rounded-full text-neutral-500 h-10 pl-5 pr-10 bg-white hover:border-neutral-400 focus:outline-none appearance-none"
      >
        <option value="">Seleccione una opcion</option>
        <option *ngFor="let item of options" [value]="item.id">
          {{ item.name }}
        </option>
      </select>
      <button
        class="text-gray-500 text-2xl focus:outline-none focus:text-gray-600 hover:text-gray-600"
        color="primary"
        mat-mini-fab
        matSuffix
        (click)="create = !create"
      >
        <mat-icon class="font-bold">{{create ? 'remove': 'add'}}</mat-icon>
      </button>
    </div>
    <ng-container *ngIf="create">
      <form [formGroup]="newOptions">
        <div class="relative w-full">
          <input
            formControlName="name"
            placeholder="Crea nueva opcion"
            class="w-full rounded-full py-2.5 px-4 border text-base bg-neutral-300 outline-none"
          />
          <div
            class="absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5"
          >
            <button
              class="text-gray-500 text-2xl focus:outline-none focus:text-gray-600 hover:text-gray-600"
              mat-icon-button
              matSuffix
              [disabled]="newOptions.invalid"
              (click)="addOptions()"
            >
              <mat-icon class="font-bold">add</mat-icon>
            </button>
          </div>
        </div>
      </form>
    </ng-container>
  </form>
</div>
<div
  class="flex flex-col w-full justify-center my-2 gap-2 px-4"
  mat-dialog-actions
>
  <button
    [ngClass]="productsInfo.invalid ? 'bg-neutral-300' : 'bg-neutral-500'"
    [disabled]="productsInfo.invalid"
    (click)="onSubmit()"
    class="p-3 rounded-full my-2 gap-2 px-4 text-white w-full font-semibold text-xl"
  >
    Cargar
  </button>
</div>
